<!DOCTYPE html>
<html>
    <head>
        <title>Beggar's Opera</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="css/tei.css">
        <script src="js/CETEI.js"></script>
        <script>
            let c = new CETEI();
            c.getHTML5('bo1-test.xml', function (data) {
                document.getElementsByTagName("body")[0].appendChild(data);
            });</script>
        <script src="https://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js" defer></script>
        <script>
            document.addEventListener("DOMContentLoaded", (event) => {
                Module.onRuntimeInitialized = async _ => {
                    let tk = new verovio.toolkit();
                    console.log("Verovio has loaded!");
                    tk.setOptions({
                        scale: 20,
                        landscape: true,
                        adjustPageWidth: true
                    });
                    tk.renderToSVG
                    console.log("Verovio options:", tk.getOptions());
                    
                    
                    
                   
                    for (var i = 0; i < meiArray.length; i++) {
                    
                        const meiArray = ["10101.mei", "10202.mei", "10403.mei", "10404.mei"];
                        const scoreArray = ["SCORE_1", "SCORE_2", "SCORE_3", "SCORE_4"];
                        console.log(i);
                        
                        fetch(meiArray[i]).then((response) => response.text()).then((meiXML) => {
                            let svg = tk.renderData(meiXML, {
                            });
                            document.getElementById(scoreArray[i]).innerHTML = "<tei-div>" + svg + "</tei-div>";
                            console.log(scoreArray[i]);
                        
                    
                    } ) } };
                  
                }
            );
        
        </script>
    </head>
    <body> </body>
</html>
